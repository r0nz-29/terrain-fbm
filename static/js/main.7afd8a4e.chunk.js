(this["webpackJsonpdiscover-three-js"]=this["webpackJsonpdiscover-three-js"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var i=n(9),r=n.n(i),a=n(11),o=n.n(a),s=n(0),h=n(1),u=n(5),c=function(e,t,n){t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix(),n.setSize(e.clientWidth,e.clientHeight),n.setPixelRatio(window.devicePixelRatio)},l=n(12),_=n(13),m=function(){function e(t,n,i){Object(s.a)(this,e),this._camera=t,this._scene=n,this._renderer=i,this._needsUpdate=[],this._controls=function(e,t,n){if("orbit"===n){var i=new l.a(e,t);return i.enableDamping=!0,i}if("firstPerson"===n)return new _.a(e,t)}(this._camera,this._renderer.domElement,"orbit"),this._objectsWithBehaviour=[]}return Object(h.a)(e,[{key:"start",value:function(e,t){var n=this;this._renderer.setAnimationLoop((function(){n._controls.update(e.getDelta()),n._needsUpdate.forEach((function(e){e.material.uniforms.u_time.value+=.01})),n._objectsWithBehaviour.forEach((function(e){e.behaviour()})),n._renderer.render(n._scene,n._camera)}))}},{key:"stop",value:function(){this._renderer.setAnimationLoop(null)}}]),e}(),v=n.p+"static/media/real3.d7b42791.png",d=n.p+"static/media/map1_color.d9782aab.jpg",p=n.p+"static/media/water1.babf6e90.jpg",f=function(){function e(t){Object(s.a)(this,e),this._scene=new u.m,this._camera=function(){var e=new u.j(35,1,.1,100);return e.position.set(0,0,2),e}(),this._renderer=function(){var e=new u.t({antialias:!0,alpha:!0});return e.physicallyCorrectLights=!0,e}(),t.appendChild(this._renderer.domElement),this._resizer=function(e,t,n){c(e,t,n),window.addEventListener("resize",(function(){c(e,t,n)}))}(t,this._camera,this._renderer),this._time=0,this._loop=new m(this._camera,this._scene,this._renderer);var n=function(){var e=new u.c("white",8);return e.position.set(10,10,10),{light:e,aLight:new u.a("white",2)}}(),i=n.light,r=n.aLight,a=function(e){var t=(new u.q).load(v);t.wrapS=u.i,t.wrapT=u.i;var n=(new u.q).load(d),i=(new u.q).load(p),r=new u.n({uniforms:{u_time:{value:e},u_heightmap:{value:t},u_colormap:{value:n},u_water:{value:i}},vertexShader:"\n  uniform float u_time;\n  uniform sampler2D u_water;\n  uniform sampler2D u_heightmap;\n  varying float height;\n  varying vec2 vuv;\n\n  void main() {\n    vuv = uv;\n    mat4 boilerplate = projectionMatrix * modelViewMatrix;\n    vec3 p = position;\n    vec3 heightData = texture2D(u_heightmap, uv).rgb;\n    vec3 waterData = texture2D(u_water, sin(uv*0.1+0.01*u_time)).rgb;\n    // height = 0.3*sin(mix(0.0, 1.0, 10.0*u_time+p.y+p.x));\n    height = 10.0*(heightData.x + heightData.y + heightData.z); \n    // if(height < 0.2) { height = 0.3*(waterData.x + waterData.y + waterData.z) ;}\n    vec3 newP = p + vec3(0.0, 0.0, 0.1*height);\n    gl_Position = boilerplate * vec4(newP, 1.0);\n  }\n",fragmentShader:"\n  uniform sampler2D u_colormap;\n  uniform float u_time;\n  uniform sampler2D u_water;\n  varying float height;\n  varying vec2 vuv;\n\n  void main() {\n    vec3 teXture = texture2D(u_colormap, vuv).rgb;\n    vec3 water = texture2D(u_water, sin(vuv*0.1+0.01*u_time)).rgb;\n    vec3 color = teXture;\n    // if(height < 0.7) {color = water;}\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n  }\n",side:u.d,wireframe:!0}),a=new u.k(7,7,400,400);return new u.h(a,r)}(this._time);a.rotation.x=-Math.PI/2,this._loop._needsUpdate.push(a),this._scene.add(a,i,r),this._clock=new u.b}return Object(h.a)(e,[{key:"start",value:function(){this._loop.start(this._clock,this._time)}},{key:"stop",value:function(){this._loop.stop()}},{key:"render",value:function(){this._renderer.render(this._scene,this._camera)}}]),e}(),w=(n(20),function(){return r.a.useEffect((function(){var e=document.getElementById("root");new f(e).start()}),[]),null}),g=n(14);o.a.render(Object(g.jsx)(w,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.7afd8a4e.chunk.js.map